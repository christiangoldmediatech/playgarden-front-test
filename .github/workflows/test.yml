name: Test

on: pull_request

jobs:
  test:
    runs-on: ubuntu-latest
    env:
      GMT_NPM_TOKEN: ${{ secrets.GMT_NPM_TOKEN }}
    steps:
      # grab the code
      - uses: actions/checkout@v2
      # Run automated tests with docker-compose (included on github's ubuntu)!
      - run: docker-compose -f docker-compose.test.yml build
      - run: docker-compose -f docker-compose.test.yml run sut